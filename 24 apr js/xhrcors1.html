<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>post in Ajax </title>
</head>

<body>
   <script>
      function getData() {
         const data = new FormData(form); // FormData is used to get data from form
         var a = data.get("txtproductname");
         var b = data.get("txtprice");
         var c = data.get("txtqty");
         alert(a);
         alert(b);
         alert(c);
         var obj = {}
         obj.productName = a;
         obj.price = b;
         obj.qty = c;
         var str = JSON.stringify(obj);  // converts data into a json strings
         (obj);
         alert(str);
         document.getElementById('d1').innerHTML = str;
         function postjsondata() {
            var xhr = new XMLHttpRequest();
            xhr.open('post', 'http://localhost/webapi', true);
            xhr.setRequestHeader("content-Type", "application/json");
            var jsonObject = JSON.parse(data);
            alert(jsonObject);
            xhr.send(jsonObject);
            document.getElementById('d2').innerHTML = "Data submittes";
         }
      }
   </script>
   <form id="form">
      <label>Product Id : </label><input type="text" name="txtproductname"><br>
      <label>Price : </label><input type="text" name="txtprice"><br>
      <label>Quantity : </label><input type="text" name="txtqty"><br><br>
      <input type="button" onclick="getData()" value="Check Data">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <input type="button" value="sending JSON string" onclick="postjsondata()"><br>
      <div id="d1" style="color: blue; font-size: 2em;"></div>
      <div id="d2" style="color: red; font-size: 2em;"></div>
   </form>


</body>

</html>